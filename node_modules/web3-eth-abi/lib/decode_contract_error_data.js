"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decodeContractErrorData = void 0;
const errors_api_1 = require("./api/errors_api");
const parameters_api_1 = require("./api/parameters_api");
const utils_1 = require("./utils");
const decodeContractErrorData = (errorsAbi, error) => {
    if (error === null || error === void 0 ? void 0 : error.data) {
        let errorName;
        let errorSignature;
        let errorArgs;
        try {
            const errorSha = error.data.slice(0, 10);
            const errorAbi = errorsAbi.find(abi => (0, errors_api_1.encodeErrorSignature)(abi).startsWith(errorSha));
            if (errorAbi === null || errorAbi === void 0 ? void 0 : errorAbi.inputs) {
                errorName = errorAbi.name;
                errorSignature = (0, utils_1.jsonInterfaceMethodToString)(errorAbi);
                errorArgs = (0, parameters_api_1.decodeParameters)([...errorAbi.inputs], error.data.substring(10));
            }
        }
        catch (err) {
            console.error(err);
        }
        if (errorName) {
            error.setDecodedProperties(errorName, errorSignature, errorArgs);
        }
    }
};
exports.decodeContractErrorData = decodeContractErrorData;
//# sourceMappingURL=decode_contract_error_data.js.map